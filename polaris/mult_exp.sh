#!/bin/sh
## IMPORTANT: THIS IS A SET UP FOR NODES=1

DIR=$(dirname $0)

# ##
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=4 BS=4 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=4 BS=8 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=4 BS=16 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=4 BS=32 bash $DIR/train.sh

# ##
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=16 BS=4 WANDB=1 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=16 BS=8 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=16 BS=16 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=16 BS=32 WANDB=1 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=16 BS=64 bash $DIR/train.sh

# ##
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=4 BS=4 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=4 BS=8 bash $DIR/train.sh

# ##
H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=16 BS=4 WANDB=1 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=16 BS=8 bash $DIR/train.sh

# ##
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=64 BS=4 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=64 BS=8 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=64 BS=16 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=64 BS=32 bash $DIR/train.sh


## BS=2 is not interesting, overlaps with BS=4.
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=4 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=16 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=4 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=16 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=64 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh


##########################################
## BELOW WON"T WORK due to patch_dim assert ##
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=8 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=8 BS=4 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=8 BS=8 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=8 BS=16 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=96 PATCH_DIM=8 BS=32 bash $DIR/train.sh

# ##
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=8 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=8 BS=4 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=8 BS=8 bash $DIR/train.sh

# ##
# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=32 BS=2 CUDA_VISIBLE_DEVICES=0,1 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=32 BS=4 bash $DIR/train.sh

# H_DIM=768 FFN_SIZE=3072 IMG_DIM=256 PATCH_DIM=32 BS=8 bash $DIR/train.sh